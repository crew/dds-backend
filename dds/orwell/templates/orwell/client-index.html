{% extends "orwell/base-index.html" %}
{% block title %}Clients{% endblock %}
{% block scripts %}
<script type="text/javascript" src="/media/js/clientindex.js"></script>
{% endblock %}

{% block content %}
<h1>Frontend Status</h1>
<form id="clientfilterform">
<select id="locationselect">
  <option value="">--Location--</option>
  {% for loc in locations %}
  <option value="{{loc.id}}">{{loc}}</option>
  {% endfor %}
</select>
<select id="groupselect">
  <option value="">--Group--</option>
  {% for grp in groups %}
  <option value="{{grp.id}}">{{grp}}</option>
  {% endfor %}
</select>
<label for="showoffline">Display offline clients?</label>
<input type="checkbox" id="showoffline" checked="true">
<input type="reset" id="resetfilter">
</form>
<div id="clientarea">
{% for client in clients %}
<div class="slidebox {{client.get_class_tags}} ui-corner-all"
  id="client-{{ client.id_hash }}">
  <img src="{{client.thumbnailurl}}" alt="{{client.slidecaption}}"
  title="{{client.slidecaption}}" height="125" width="200" class="slidepreview">
  {{ client.id_user_part }}
  <div class="infopopup" title="{{client.client_id}}"
    id="infobox-{{ client.id_hash }}">
    <dl>
      <dt>Location</dt>
      <dd>{{ client.location }}</dd>
      <dt>Groups</dt>
      <dd>
        <ul>
          {% for g in client.groups.all %}
          <li>{{ g }}</li>
          {% endfor %}
        </ul>
      </dd>
    </dl>
    <div id="save-{{ client.id_hash }}" class="ui-state-default ui-corner-all"
      title="Save">
      <span class="ui-icon ui-icon-disk"></span></div>
  </div>
</div>
{% endfor %}
</div>
{% endblock %}
